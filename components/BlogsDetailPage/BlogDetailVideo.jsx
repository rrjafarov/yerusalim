// "use client";
// import Image from "next/image";
// import React, { useState } from "react";
// import VideoPopup from "../ProductDetailPage/VideoPopup";

// const BlogDetailVideo = () => {
//   const [isVideoOpen, setIsVideoOpen] = useState(false);

//   const handleOpenVideo = () => {
//     setIsVideoOpen(true);
//   };

//   const handleCloseVideo = () => {
//     setIsVideoOpen(false);
//   };

//   return (
//     <div className="blogDetailVideo">
//       <div className="container">
//         <div className="blogDetailVideoItems">
//           <h3>Video</h3>

//           <div className="blogDetailVideoCover" onClick={handleOpenVideo}>
//             <Image
//               src="/img/blogVideoCover.png"
//               alt="videoCover"
//               width={1000}
//               height={500}
//             />
//             <span>
//               <img src="/img/videoPlay.png" alt="play" />
//             </span>
//           </div>

//           {isVideoOpen && <VideoPopup onClose={handleCloseVideo} />}
//         </div>

//         <div className="blogShareLinks">
//           <div className="productDetailPageShareLiks">
//             <span>Share:</span>
//             <ul>
//               <li>
//                 <Link href="#">
//                   <svg
//                     xmlns="http://www.w3.org/2000/svg"
//                     width="22"
//                     height="22"
//                     viewBox="0 0 22 22"
//                     fill="none"
//                   >
//                     <path
//                       d="M19.3034 10.5284C19.3034 15.3744 15.3749 19.3029 10.5289 19.3029C5.68287 19.3029 1.75439 15.3744 1.75439 10.5284C1.75439 5.68239 5.68287 1.75391 10.5289 1.75391C15.3749 1.75391 19.3034 5.68239 19.3034 10.5284ZM10.8434 8.23165C9.98989 8.58664 8.28421 9.32139 5.72626 10.4358C5.31089 10.601 5.09331 10.7626 5.07349 10.9206C5.04002 11.1876 5.37442 11.2928 5.82979 11.436C5.89173 11.4554 5.95591 11.4756 6.0217 11.497C6.46971 11.6426 7.07237 11.813 7.38566 11.8198C7.66985 11.8259 7.98704 11.7088 8.33723 11.4683C10.7272 9.85497 11.9609 9.03956 12.0384 9.02201C12.093 9.00955 12.1688 8.99402 12.22 9.03956C12.2713 9.08519 12.2663 9.17153 12.2609 9.19469C12.2277 9.33596 10.9151 10.5563 10.2358 11.1878C10.0332 11.3761 9.83581 11.5685 9.6368 11.7603C9.22063 12.1614 8.90852 12.4623 9.65409 12.9537C10.4099 13.4518 11.1715 13.9489 11.9086 14.4744C12.2721 14.7336 12.5988 14.9665 13.0023 14.9294C13.2368 14.9078 13.479 14.6873 13.6019 14.0297C13.8926 12.4757 14.464 9.10879 14.5961 7.7213C14.6076 7.59975 14.5931 7.44418 14.5814 7.37588C14.5697 7.30759 14.5453 7.21028 14.4566 7.13825C14.3513 7.05295 14.1891 7.03496 14.1165 7.03624C13.7864 7.04206 13.2802 7.21812 10.8434 8.23165Z"
//                       fill="black"
//                     />
//                   </svg>
//                 </Link>
//               </li>
//               <li>
//                 <Link href="#">
//                   <svg
//                     xmlns="http://www.w3.org/2000/svg"
//                     width="20"
//                     height="20"
//                     viewBox="0 0 20 20"
//                     fill="none"
//                   >
//                     <path
//                       d="M13.2134 6.80804V12.7992C13.2134 15.7639 10.8101 18.1671 7.84547 18.1671C4.88085 18.1671 2.47754 15.7639 2.47754 12.7992C2.47754 9.83451 4.88085 7.43124 7.84547 7.43124C8.27185 7.43124 8.68659 7.48095 9.08423 7.57488V10.1869C8.7088 10.0085 8.28878 9.90875 7.84547 9.90875C6.24913 9.90875 4.95505 11.2028 4.95505 12.7992C4.95505 14.3955 6.24913 15.6896 7.84547 15.6896C9.44182 15.6896 10.7359 14.3955 10.7359 12.7992V1.65039H13.2134C13.2134 3.93087 15.0621 5.77957 17.3426 5.77957V8.25708C15.7802 8.25708 14.3445 7.71474 13.2134 6.80804Z"
//                       fill="black"
//                     />
//                   </svg>
//                 </Link>
//               </li>
//               <li>
//                 <Link href="#">
//                   <svg
//                     xmlns="http://www.w3.org/2000/svg"
//                     width="20"
//                     height="20"
//                     viewBox="0 0 20 20"
//                     fill="none"
//                   >
//                     <g clip-path="url(#clip0_151_12010)">
//                       <path
//                         d="M11.5616 11.1475H13.6262L14.452 7.84416H11.5616V6.19249C11.5616 5.34188 11.5616 4.54082 13.2133 4.54082H14.452V1.76601C14.1828 1.7305 13.1662 1.65039 12.0926 1.65039C9.85048 1.65039 8.25827 3.0188 8.25827 5.53182V7.84416H5.78076V11.1475H8.25827V18.1671H11.5616V11.1475Z"
//                         fill="black"
//                       />
//                     </g>
//                     <defs>
//                       <clipPath id="clip0_151_12010">
//                         <rect width="19.8201" height="19.8201" fill="white" />
//                       </clipPath>
//                     </defs>
//                   </svg>
//                 </Link>
//               </li>
//               <li>
//                 <Link href="#">
//                   <svg
//                     xmlns="http://www.w3.org/2000/svg"
//                     width="20"
//                     height="20"
//                     viewBox="0 0 20 20"
//                     fill="none"
//                   >
//                     <path
//                       d="M14.6063 2.52832L10.4798 7.24529L6.91203 2.52832H1.74463L7.91885 10.6019L2.06712 17.2901H4.57285L9.08922 12.1296L13.0363 17.2901H18.0757L11.6396 8.7813L17.1106 2.52832H14.6063ZM13.7274 15.7913L4.66898 3.94849H6.15804L15.115 15.7913H13.7274Z"
//                       fill="black"
//                     />
//                   </svg>
//                 </Link>
//               </li>

//               {/* Copy link button */}
//               <button onClick={handleCopyLink}>
//                 <span>
//                   <svg
//                     xmlns="http://www.w3.org/2000/svg"
//                     width="19"
//                     height="19"
//                     viewBox="0 0 19 19"
//                     fill="none"
//                   >
//                     <g clip-path="url(#clip0_151_12016)">
//                       <path
//                         d="M10.1114 6.27827L11.207 7.37379C11.7103 7.87705 12.1095 8.47452 12.3819 9.13209C12.6543 9.78965 12.7945 10.4944 12.7945 11.2062C12.7945 11.9179 12.6543 12.6227 12.3819 13.2803C12.1095 13.9379 11.7103 14.5353 11.207 15.0386L10.9329 15.3119C9.91647 16.3283 8.53792 16.8993 7.10049 16.8993C5.66306 16.8993 4.28451 16.3283 3.26809 15.3119C2.25168 14.2955 1.68066 12.9169 1.68066 11.4795C1.68066 10.0421 2.25168 8.66351 3.26809 7.64709L4.36362 8.74261C4.00157 9.10151 3.71397 9.52838 3.51734 9.99871C3.32071 10.4691 3.21891 10.9736 3.21779 11.4834C3.21668 11.9932 3.31626 12.4982 3.51083 12.9694C3.7054 13.4406 3.99113 13.8687 4.3516 14.2291C4.71208 14.5896 5.1402 14.8753 5.6114 15.0699C6.08259 15.2645 6.58758 15.3641 7.09737 15.363C7.60715 15.3618 8.1117 15.26 8.58204 15.0634C9.05238 14.8668 9.47925 14.5792 9.83814 14.2171L10.1122 13.9431C10.8379 13.2171 11.2456 12.2327 11.2456 11.2062C11.2456 10.1797 10.8379 9.19525 10.1122 8.46931L9.01669 7.37379L10.1122 6.27904L10.1114 6.27827ZM15.3127 10.9321L14.2179 9.83736C14.58 9.47847 14.8676 9.0516 15.0642 8.58126C15.2608 8.11092 15.3626 7.60638 15.3637 7.09659C15.3649 6.58681 15.2653 6.08182 15.0707 5.61062C14.8761 5.13943 14.5904 4.7113 14.2299 4.35083C13.8694 3.99036 13.4413 3.70463 12.9701 3.51006C12.4989 3.31549 11.9939 3.2159 11.4842 3.21702C10.9744 3.21813 10.4698 3.31993 9.99949 3.51656C9.52915 3.7132 9.10228 4.00079 8.74339 4.36284L8.46931 4.63692C7.74359 5.36286 7.33591 6.34731 7.33591 7.37379C7.33591 8.40027 7.74359 9.38472 8.46931 10.1107L9.56484 11.2062L8.46931 12.3009L7.37456 11.2062C6.87125 10.7029 6.472 10.1055 6.19961 9.44789C5.92722 8.79033 5.78702 8.08554 5.78702 7.37379C5.78702 6.66204 5.92722 5.95726 6.19961 5.29969C6.472 4.64213 6.87125 4.04465 7.37456 3.54139L7.64864 3.26809C8.66505 2.25168 10.0436 1.68066 11.481 1.68066C12.9185 1.68066 14.297 2.25168 15.3134 3.26809C16.3298 4.28451 16.9009 5.66306 16.9009 7.10049C16.9009 8.53792 16.3298 9.91647 15.3134 10.9329L15.3127 10.9321Z"
//                         fill="black"
//                       />
//                     </g>
//                     <defs>
//                       <clipPath id="clip0_151_12016">
//                         <rect width="18.5813" height="18.5813" fill="white" />
//                       </clipPath>
//                     </defs>
//                   </svg>
//                 </span>
//                 <span>Copy link</span>
//               </button>

//               {/* “Copied” yazısı button-dan kənarda */}
//               <span
//                 className={`productDetailPageShareCopied ${
//                   copied ? "visible" : ""
//                 }`}
//               >
//                 Copied
//               </span>
//             </ul>
//           </div>
//         </div>
//       </div>
//     </div>
//   );
// };

// export default BlogDetailVideo;

"use client";
import Image from "next/image";
import React, { useState, useRef, useEffect } from "react";
import VideoPopup from "../ProductDetailPage/VideoPopup";
import Link from "next/link";

const BlogDetailVideo = () => {
  const [isVideoOpen, setIsVideoOpen] = useState(false);

  const [copied, setCopied] = useState(false);
  const copyTimeoutRef = useRef(null);

  const handleOpenVideo = () => {
    setIsVideoOpen(true);
  };

  const handleCloseVideo = () => {
    setIsVideoOpen(false);
  };

  const handleCopyLink = () => {
    if (typeof window !== "undefined" && navigator?.clipboard) {
      navigator.clipboard.writeText(window.location.href).catch(() => {});
    }

    setCopied(true);

    if (copyTimeoutRef.current) {
      clearTimeout(copyTimeoutRef.current);
    }

    copyTimeoutRef.current = setTimeout(() => {
      setCopied(false);
    }, 2000);
  };

  useEffect(() => {
    return () => {
      if (copyTimeoutRef.current) {
        clearTimeout(copyTimeoutRef.current);
      }
    };
  }, []);

  return (
    <div className="container">
      <div className="blogDetailVideo">
        <div className="blogDetailVideoItems">
          <h3>Video</h3>

          <div className="blogDetailVideoCover" onClick={handleOpenVideo}>
            <Image
              src="/img/blogVideoCover.png"
              alt="videoCover"
              width={1000}
              height={500}
            />
            <span>
              <img src="/img/videoPlay.png" alt="play" />
            </span>
          </div>

          {isVideoOpen && <VideoPopup onClose={handleCloseVideo} />}
        </div>

        <div className="blogShareLinks">
          <div className="productDetailPageShareLiks">
            <span>Share:</span>
            <ul>
              <li>
                <Link href="#">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="22"
                    height="22"
                    viewBox="0 0 22 22"
                    fill="none"
                  >
                    <path
                      d="M19.3034 10.5284C19.3034 15.3744 15.3749 19.3029 10.5289 19.3029C5.68287 19.3029 1.75439 15.3744 1.75439 10.5284C1.75439 5.68239 5.68287 1.75391 10.5289 1.75391C15.3749 1.75391 19.3034 5.68239 19.3034 10.5284ZM10.8434 8.23165C9.98989 8.58664 8.28421 9.32139 5.72626 10.4358C5.31089 10.601 5.09331 10.7626 5.07349 10.9206C5.04002 11.1876 5.37442 11.2928 5.82979 11.436C5.89173 11.4554 5.95591 11.4756 6.0217 11.497C6.46971 11.6426 7.07237 11.813 7.38566 11.8198C7.66985 11.8259 7.98704 11.7088 8.33723 11.4683C10.7272 9.85497 11.9609 9.03956 12.0384 9.02201C12.093 9.00955 12.1688 8.99402 12.22 9.03956C12.2713 9.08519 12.2663 9.17153 12.2609 9.19469C12.2277 9.33596 10.9151 10.5563 10.2358 11.1878C10.0332 11.3761 9.83581 11.5685 9.6368 11.7603C9.22063 12.1614 8.90852 12.4623 9.65409 12.9537C10.4099 13.4518 11.1715 13.9489 11.9086 14.4744C12.2721 14.7336 12.5988 14.9665 13.0023 14.9294C13.2368 14.9078 13.479 14.6873 13.6019 14.0297C13.8926 12.4757 14.464 9.10879 14.5961 7.7213C14.6076 7.59975 14.5931 7.44418 14.5814 7.37588C14.5697 7.30759 14.5453 7.21028 14.4566 7.13825C14.3513 7.05295 14.1891 7.03496 14.1165 7.03624C13.7864 7.04206 13.2802 7.21812 10.8434 8.23165Z"
                      fill="black"
                    />
                  </svg>
                </Link>
              </li>
              <li>
                <Link href="#">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                  >
                    <path
                      d="M13.2134 6.80804V12.7992C13.2134 15.7639 10.8101 18.1671 7.84547 18.1671C4.88085 18.1671 2.47754 15.7639 2.47754 12.7992C2.47754 9.83451 4.88085 7.43124 7.84547 7.43124C8.27185 7.43124 8.68659 7.48095 9.08423 7.57488V10.1869C8.7088 10.0085 8.28878 9.90875 7.84547 9.90875C6.24913 9.90875 4.95505 11.2028 4.95505 12.7992C4.95505 14.3955 6.24913 15.6896 7.84547 15.6896C9.44182 15.6896 10.7359 14.3955 10.7359 12.7992V1.65039H13.2134C13.2134 3.93087 15.0621 5.77957 17.3426 5.77957V8.25708C15.7802 8.25708 14.3445 7.71474 13.2134 6.80804Z"
                      fill="black"
                    />
                  </svg>
                </Link>
              </li>
              <li>
                <Link href="#">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                  >
                    <g clipPath="url(#clip0_151_12010)">
                      <path
                        d="M11.5616 11.1475H13.6262L14.452 7.84416H11.5616V6.19249C11.5616 5.34188 11.5616 4.54082 13.2133 4.54082H14.452V1.76601C14.1828 1.7305 13.1662 1.65039 12.0926 1.65039C9.85048 1.65039 8.25827 3.0188 8.25827 5.53182V7.84416H5.78076V11.1475H8.25827V18.1671H11.5616V11.1475Z"
                        fill="black"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_151_12010">
                        <rect width="19.8201" height="19.8201" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                </Link>
              </li>
              <li>
                <Link href="#">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                  >
                    <path
                      d="M14.6063 2.52832L10.4798 7.24529L6.91203 2.52832H1.74463L7.91885 10.6019L2.06712 17.2901H4.57285L9.08922 12.1296L13.0363 17.2901H18.0757L11.6396 8.7813L17.1106 2.52832H14.6063ZM13.7274 15.7913L4.66898 3.94849H6.15804L15.115 15.7913H13.7274Z"
                      fill="black"
                    />
                  </svg>
                </Link>
              </li>

              {/* Copy link button */}
              <button onClick={handleCopyLink}>
                <span>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="19"
                    height="19"
                    viewBox="0 0 19 19"
                    fill="none"
                  >
                    <g clipPath="url(#clip0_151_12016)">
                      <path
                        d="M10.1114 6.27827L11.207 7.37379C11.7103 7.87705 12.1095 8.47452 12.3819 9.13209C12.6543 9.78965 12.7945 10.4944 12.7945 11.2062C12.7945 11.9179 12.6543 12.6227 12.3819 13.2803C12.1095 13.9379 11.7103 14.5353 11.207 15.0386L10.9329 15.3119C9.91647 16.3283 8.53792 16.8993 7.10049 16.8993C5.66306 16.8993 4.28451 16.3283 3.26809 15.3119C2.25168 14.2955 1.68066 12.9169 1.68066 11.4795C1.68066 10.0421 2.25168 8.66351 3.26809 7.64709L4.36362 8.74261C4.00157 9.10151 3.71397 9.52838 3.51734 9.99871C3.32071 10.4691 3.21891 10.9736 3.21779 11.4834C3.21668 11.9932 3.31626 12.4982 3.51083 12.9694C3.7054 13.4406 3.99113 13.8687 4.3516 14.2291C4.71208 14.5896 5.1402 14.8753 5.6114 15.0699C6.08259 15.2645 6.58758 15.3641 7.09737 15.363C7.60715 15.3618 8.1117 15.26 8.58204 15.0634C9.05238 14.8668 9.47925 14.5792 9.83814 14.2171L10.1122 13.9431C10.8379 13.2171 11.2456 12.2327 11.2456 11.2062C11.2456 10.1797 10.8379 9.19525 10.1122 8.46931L9.01669 7.37379L10.1122 6.27904L10.1114 6.27827ZM15.3127 10.9321L14.2179 9.83736C14.58 9.47847 14.8676 9.0516 15.0642 8.58126C15.2608 8.11092 15.3626 7.60638 15.3637 7.09659C15.3649 6.58681 15.2653 6.08182 15.0707 5.61062C14.8761 5.13943 14.5904 4.7113 14.2299 4.35083C13.8694 3.99036 13.4413 3.70463 12.9701 3.51006C12.4989 3.31549 11.9939 3.2159 11.4842 3.21702C10.9744 3.21813 10.4698 3.31993 9.99949 3.51656C9.52915 3.7132 9.10228 4.00079 8.74339 4.36284L8.46931 4.63692C7.74359 5.36286 7.33591 6.34731 7.33591 7.37379C7.33591 8.40027 7.74359 9.38472 8.46931 10.1107L9.56484 11.2062L8.46931 12.3009L7.37456 11.2062C6.87125 10.7029 6.472 10.1055 6.19961 9.44789C5.92722 8.79033 5.78702 8.08554 5.78702 7.37379C5.78702 6.66204 5.92722 5.95726 6.19961 5.29969C6.472 4.64213 6.87125 4.04465 7.37456 3.54139L7.64864 3.26809C8.66505 2.25168 10.0436 1.68066 11.481 1.68066C12.9185 1.68066 14.297 2.25168 15.3134 3.26809C16.3298 4.28451 16.9009 5.66306 16.9009 7.10049C16.9009 8.53792 16.3298 9.91647 15.3134 10.9329L15.3127 10.9321Z"
                        fill="black"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_151_12016">
                        <rect width="18.5813" height="18.5813" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                </span>
                <span>Copy link</span>
              </button>

              {/* “Copied” yazısı button-dan kənarda */}
              <span
                className={`productDetailPageShareCopied ${
                  copied ? "visible" : ""
                }`}
              >
                Copied
              </span>
            </ul>
          </div>
          <div className="blogShareLinksRight">
            <span>Written by Tamara Mayne / </span>
            <ul>
              <li>
                <Link href="#">#candly</Link>
              </li>

              <li>
                <Link href="#">#yerusalim</Link>
              </li>
              <li>
                <Link href="#"></Link>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  );
};

export default BlogDetailVideo;
